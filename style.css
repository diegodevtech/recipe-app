/* --- Design tokens --- */
:root {
  /* Colors */
  --color-text: #573a37;
  --color-text-heading: #291b1a;
  --color-bg-card: #f0e8c2;
  --color-overlay: rgba(108, 78, 66, 0.7);

  /* Typography — fluid scaling */
  --font-family: "Alice", serif;
  --text-base: clamp(0.9375rem, 0.875rem + 0.3125vw, 1rem);
  --text-lead: clamp(1rem, 0.9375rem + 0.3125vw, 1.125rem);
  --text-heading-1: clamp(1.75rem, 1.5rem + 1vw, 2.5rem);
  --text-heading-2: clamp(1.25rem, 1.125rem + 0.5vw, 1.5rem);
  --text-small: clamp(0.8125rem, 0.75rem + 0.3125vw, 0.875rem);

  /* Spacing — fluid */
  --space-xs: 0.25rem;
  --space-sm: 0.5rem;
  --space-md: clamp(0.75rem, 1.5vw, 1rem);
  --space-lg: clamp(1rem, 2vw, 1.5rem);
  --space-xl: clamp(1.5rem, 3vw, 2rem);
  --space-2xl: clamp(2rem, 4vw, 3rem);

  /* Layout */
  --page-max-width: 50rem;
  --page-padding: clamp(1rem, 4vw, 1.5rem);
  --page-radius: clamp(1rem, 2vw, 1.5rem);
  --body-padding: clamp(0.75rem, 4vw, 2rem);

  /* Focus ring — WCAG AA compliant */
  --focus-outline: 2px solid #291b1a;
  --focus-offset: 2px;
}

/* --- Reset & base --- */
*,
*::before,
*::after {
  box-sizing: border-box;
}

* {
  margin: 0;
  padding: 0;
}

html {
  font-size: 100%;
  scroll-behavior: smooth;
}

@media (prefers-reduced-motion: reduce) {
  html {
    scroll-behavior: auto;
  }

  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

body {
  position: relative;
  padding: var(--body-padding);
  font-family: var(--font-family);
  font-size: var(--text-base);
  line-height: 1.5;
  color: var(--color-text);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

body::before {
  content: "";
  position: fixed;
  inset: -20px;
  background-image: linear-gradient(var(--color-overlay), var(--color-overlay)),
    url("assets/main-image.jpg");
  background-size: cover;
  background-position: center;
  filter: blur(5px);
  z-index: -1;
}

/* --- Skip link (accessibility) --- */
.skip-link {
  position: absolute;
  top: calc(-1 * (var(--focus-offset) + 2.5rem));
  left: var(--body-padding);
  padding: 0.5rem 1rem;
  background: var(--color-text-heading);
  color: var(--color-bg-card);
  font-weight: 600;
  text-decoration: none;
  border-radius: 0.25rem;
  z-index: 100;
  transition: top 0.2s ease;
}

.skip-link:focus {
  top: var(--body-padding);
  outline: var(--focus-outline);
  outline-offset: var(--focus-offset);
}

/* --- Page container --- */
#page {
  max-width: var(--page-max-width);
  width: 100%;
  padding: var(--page-padding);
  margin: var(--space-2xl) auto;
  background-color: var(--color-bg-card);
  border-radius: var(--page-radius);
}

/* --- Hero image --- */
#image {
  display: block;
  width: 100%;
  height: auto;
  border-radius: var(--page-radius);
  object-fit: cover;
  /* aspect-ratio: 4 / 3; */
}

/* --- Header --- */
header {
  margin-bottom: 1rem;
}
/* --- Header --- */

/* --- Main content --- */
main {
  padding: var(--space-lg);
  display: flex;
  flex-direction: column;
  gap: var(--space-xl);
}

/* --- Typography --- */
h1 {
  font-size: var(--text-heading-1);
  line-height: 1.2;
  color: var(--color-text-heading);
  margin-bottom: var(--space-sm);
}

h2 {
  font-size: var(--text-heading-2);
  line-height: 1.3;
  color: var(--color-text-heading);
  margin-bottom: var(--space-md);
}

/* --- Recipe meta (about section) --- */
.recipe-meta {
  display: flex;
  flex-direction: column;
  gap: var(--space-lg);
}

.lead {
  font-size: var(--text-lead);
  line-height: 1.6;
}

/* Recipe details (extraInfo) — definition list for semantics */
.recipe-details {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(min(100%, 8rem), 1fr));
  gap: var(--space-md);
}

.recipe-detail {
  display: flex;
  flex-direction: column;
  gap: var(--space-xs);
}

.recipe-detail dt {
  font-size: var(--text-small);
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  color: var(--color-text-heading);
}

.recipe-detail dd {
  margin: 0;
  font-size: var(--text-base);
}

/* --- Ingredients list --- */
.ingredients-list {
  list-style-position: inside;
  padding-inline-start: 0;
}

.ingredients-list li {
  padding: var(--space-xs) 0;
  padding-inline-start: var(--space-md);
  position: relative;
}

.ingredients-list li::marker {
  color: var(--color-text-heading);
}

/* --- Preparation steps --- */
.preparation-steps {
  display: flex;
  flex-direction: column;
  gap: var(--space-md);
}

.preparation-steps p {
  text-indent: 0;
  line-height: 1.6;
}

/* --- Footer --- */
footer {
  text-align: center;
  font-size: var(--text-small);
  color: var(--color-text);
  padding-top: var(--space-lg);
  border-top: 1px solid rgba(87, 58, 55, 0.2);
}

/* --- Focus visible (accessibility) --- */
:focus {
  outline: none;
}

:focus-visible {
  outline: var(--focus-outline);
  outline-offset: var(--focus-offset);
}

/* --- Responsive refinements --- */
@media (min-width: 48rem) {
  .recipe-details {
    grid-template-columns: repeat(3, 1fr);
  }
}

@media (min-width: 64rem) {
  #page {
    margin-block: 4rem;
  }
}

/* --- Print styles --- */
@media print {
  body::before {
    display: none;
  }

  body {
    background: #fff;
    padding: 0;
  }

  #page {
    max-width: none;
    margin: 0;
    padding: 1rem;
    background: #fff;
    box-shadow: none;
  }

  .skip-link {
    display: none;
  }

  a[href]::after {
    content: "";
  }
}
